(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3Kre":function(e,t,n){"use strict";n.r(t),n.d(t,"factory",(function(){return C})),n.d(t,"registerAnalytics",(function(){return E})),n.d(t,"resetGlobalVars",(function(){return O})),n.d(t,"settings",(function(){return I}));var r,i,o,a=n("wj3C"),s=n.n(a),c=(n("fSjL"),n("mrSG")),u=n("zVF4"),l=n("S+S0"),f="measurementId",p="firebase_id",d="origin",h="https://www.googletagmanager.com/gtag/js",g=function(e){return e.EVENT="event",e.SET="set",e.CONFIG="config",e}({}),m=function(e){return e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results",e}({}),v=((r={})["no-ga-id"]='"'+f+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',r["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",r),b=new u.ErrorFactory("analytics","Analytics",v),_={},w="dataLayer",y="gtag",S=!1;function O(e,t){void 0===e&&(e=!1),void 0===t&&(t={}),S=e,_=t,w="dataLayer",y="gtag"}function I(e){if(S)throw b.create("already-initialized");e.dataLayerName&&(w=e.dataLayerName),e.gtagName&&(y=e.gtagName)}function C(e,t){var n=e.options[f];if(!n)throw b.create("no-ga-id");if(null!=_[n])throw b.create("already-exists",{id:n});if(!S){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(h))return r}return null})()||function(e){var t=document.createElement("script");t.src=h+"?l="+e,t.async=!0,document.head.appendChild(t)}(w),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(w);var r=function(e,t,n){var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];window[t].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(e,t){return function(n,r,i){if(n===g.EVENT){var o=[];if(i&&i.send_to){var a=i.send_to;Array.isArray(a)||(a=[a]);for(var s=0,c=a;s<c.length;s++){var u=t[c[s]];if(!u){o=[];break}o.push(u)}}if(0===o.length)for(var l=0,f=Object.values(t);l<f.length;l++)o.push(f[l]);Promise.all(o).then((function(){return e(g.EVENT,r,i||{})})).catch((function(e){return console.error(e)}))}else n===g.CONFIG?(t[r]||Promise.resolve()).then((function(){e(g.CONFIG,r,i)})).catch((function(e){return console.error(e)})):e(g.SET,r)}}(r,e),{gtagCore:r,wrappedGtag:window[n]}}(_,w,y);o=r.wrappedGtag,i=r.gtagCore,S=!0}return _[n]=function(e,t,n){return Object(c.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(c.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.getId()];case 1:return r=o.sent(),n("js",new Date),n(g.CONFIG,e.options[f],((i={})[p]=r,i[d]="firebase",i.update=!0,i)),[2]}}))}))}(e,t,i),{app:e,logEvent:function(e,t,r){return function(e,t,n,r,i){var o=r||{};i&&i.global||(o=Object(c.__assign)(Object(c.__assign)({},r),{send_to:t})),e(g.EVENT,n,o||{})}(o,n,e,t,r)},setCurrentScreen:function(e,t){return function(e,t,n,r){r&&r.global?e(g.SET,{screen_name:n}):e(g.CONFIG,t,{update:!0,screen_name:n})}(o,n,e,t)},setUserId:function(e,t){return function(e,t,n,r){r&&r.global?e(g.SET,{user_id:n}):e(g.CONFIG,t,{update:!0,user_id:n})}(o,n,e,t)},setUserProperties:function(e,t){return function(e,t,n,r){if(r&&r.global){for(var i={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];i["user_properties."+s]=n[s]}e(g.SET,i)}else e(g.CONFIG,t,{update:!0,user_properties:n})}(o,n,e,t)},setAnalyticsCollectionEnabled:function(e){return function(e,t){window["ga-disable-"+e]=!t}(n,e)}}}var j="@firebase/analytics",k="0.2.11",T="analytics";function E(e){e.INTERNAL.registerComponent(new l.Component(T,(function(e){return C(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:I,EventName:m})),e.INTERNAL.registerComponent(new l.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(T).getImmediate().logEvent}}catch(t){throw b.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion(j,k)}E(s.a)},ABqa:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),a=n("S+S0"),s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return o.__extends(t,e),t}(Error),u=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function l(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var f,p=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return l(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?l(e,(function(e){return t.decode(e)})):e},e}(),d=function(){function e(e,t,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=e,this.region_=r,this.serializer=new p,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new u(t,n),this.cancelAllRequests=new Promise((function(e){i.deleteService=function(){return e()}}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+n+"/"+e:"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},e.prototype.call=function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,a,u,l,f,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},a=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&a.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&a.append("Firebase-Instance-ID-Token",u.instanceIdToken),l=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,a),(h=l,new Promise((function(e,t){setTimeout((function(){t(new c("deadline-exceeded","deadline-exceeded"))}),h)}))),this.cancelAllRequests])];case 2:if(!(f=o.sent()))throw new c("cancelled","Firebase Functions instance was deleted.");if(p=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var u=a.status;if("string"==typeof u){if(!s[u])return new c("internal","internal");r=s[u],i=u}var l=a.message;"string"==typeof l&&(i=l),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(f){}return"ok"===r?null:new c(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new c("internal","Response is not valid JSON object.");if(void 0===(d=f.json.data)&&(d=f.json.result),void 0===d)throw new c("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}var h}))}))},e}();f={Functions:d},i.INTERNAL.registerComponent(new a.Component("functions",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging");return new d(n,r,i,t)}),"PUBLIC").setServiceProps(f).setMultipleInstances(!0)),i.registerVersion("@firebase/functions","0.4.30")},McEk:function(e,t,n){"use strict";n.r(t);var r=n("fXoL");class i{constructor(e){this.createdAt=new Date,this.file=e}}var o=n("x9M5"),a=n("iqUP"),s=n("BAab");let c=(()=>{class e{constructor(e){this.afs=e,this.basePath="/uploads"}publishUpload(e){this.uploadTask=this.afs.storage.ref().child(`${this.basePath}/${e.file.name}`).put(e.file),this.uploadTask.on(a.storage.TaskEvent.STATE_CHANGED,t=>{e.progress=t.bytesTransferred/t.totalBytes*100},e=>console.log(e),()=>{e.url=this.uploadTask.snapshot.downloadURL,e.name=e.file.name})}}return e.ɵfac=function(t){return new(t||e)(r.nc(s.a))},e.ɵprov=r.ac({token:e,factory:e.ɵfac,providedIn:"root"}),e})();var u=n("0DX0"),l=n("A2Vd"),f=n("Xlwt"),p=n("TY1r"),d=n("N/25"),h=n("kt0X"),g=n("XiUz"),m=n("3Pt+"),v=n("IRfi"),b=n("ofXK"),_=n("znSr");function w(e,t){1&e&&(r.jc(0,"mat-error"),r.Pc(1,"Please write a post"),r.ic())}function y(e,t){1&e&&(r.jc(0,"mat-error"),r.Pc(1,"Post must be at least 20 symbols long"),r.ic())}const S=function(e){return{"upload-msg":e}};function O(e,t){if(1&e&&(r.jc(0,"div",14),r.jc(1,"p"),r.Pc(2),r.ic(),r.ic()),2&e){const e=r.vc();r.Cc("ngClass",r.Fc(3,S,null==e.currentUpload?null:e.currentUpload.name)),r.Sb(2),r.Sc(" File ",null==e.currentUpload?null:e.currentUpload.name," was upload successfully : ",null==e.currentUpload?null:e.currentUpload.progress,"% ")}}let I=(()=>{class e{constructor(e,t,n,r){this.uploadService=e,this.snackbar=t,this.authService=n,this.store=r,this._isUpload=!1,this._userData=this.authService.userData}createPost(e,t){if(!this._isUpload)return void this.snackbar.open("Please upload file","Undo",{duration:3e3});const n={id:Math.random().toString(),avatar:this._userData.avatar,createdOn:new Date,createdByName:this._userData.name,createdById:this._userData.id,title:e,description:t,imgName:this._selectedFiles.item(0).name,imageLink:null,likes:0,dislikes:0};this.store.dispatch(new o.h(n))}detectFiles(e){this._selectedFiles=e.target.files}uploadSingle(){if(!this._selectedFiles)return void this.snackbar.open("Please select file","Undo",{duration:3e3});this._isUpload=!0;const e=this._selectedFiles.item(0);this.currentUpload=new i(e),this.uploadService.publishUpload(this.currentUpload)}}return e.ɵfac=function(t){return new(t||e)(r.ec(c),r.ec(u.a),r.ec(d.a),r.ec(h.h))},e.ɵcmp=r.Yb({type:e,selectors:[["app-create-post"]],decls:24,vars:5,consts:[["fxFlex","","fxLayout","column","fxLayoutGap","15px","fxLayoutAlign","center",1,"create-post-section"],["fxLayoutAlign","center"],["fxLayout","column",3,"ngSubmit"],["createFormInput","ngForm"],["matInput","","ngModel","","id","title","type","text","name","title","required","","placeholder","Title"],["matInput","","ngModel","","required","","minlength","20","maxlength","350","name","description","id","description","cols","30","rows","5","placeholder","Description",1,"textarea"],["textareaInput","ngModel"],["fxLayoutAlign","end",1,"hint"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-submit",3,"disabled"],[1,"upload"],["id","upload","type","file","color","primary",1,"upload-input",2,"padding-left","20%","padding-right","20%",3,"change"],["type","button","mat-mini-fab","","color","primary",1,"btn-upload",2,"margin-top","20px",3,"click"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,t){if(1&e){const e=r.kc();r.jc(0,"div",0),r.jc(1,"h2",1),r.Pc(2,"SHARE POST"),r.ic(),r.jc(3,"form",2,3),r.rc("ngSubmit",(function(){r.Ic(e);const n=r.Hc(4);return t.createPost(n.value.title,n.value.description)})),r.jc(5,"mat-form-field"),r.fc(6,"input",4),r.ic(),r.jc(7,"mat-form-field"),r.fc(8,"textarea",5,6),r.jc(10,"div",7),r.jc(11,"mat-hint"),r.Pc(12),r.ic(),r.ic(),r.Oc(13,w,2,0,"mat-error",8),r.Oc(14,y,2,0,"mat-error",8),r.ic(),r.fc(15,"br"),r.jc(16,"button",9),r.Pc(17,"Submit "),r.ic(),r.ic(),r.jc(18,"div",10),r.jc(19,"input",11),r.rc("change",(function(e){return t.detectFiles(e)})),r.ic(),r.jc(20,"button",12),r.rc("click",(function(){return t.uploadSingle()})),r.jc(21,"mat-icon"),r.Pc(22,"file_upload"),r.ic(),r.ic(),r.ic(),r.Oc(23,O,3,5,"div",13),r.ic()}if(2&e){const e=r.Hc(4),n=r.Hc(9);r.Sb(12),r.Rc("",null==n?null:null==n.value?null:n.value.length," / 350"),r.Sb(1),r.Cc("ngIf",n.hasError("required")),r.Sb(1),r.Cc("ngIf",n.hasError("minlength")),r.Sb(2),r.Cc("disabled",e.invalid),r.Sb(7),r.Cc("ngIf",null==t.currentUpload?null:t.currentUpload.name)}},directives:[g.a,g.c,g.d,g.b,m.p,m.k,m.l,v.b,l.a,m.a,m.j,m.m,m.o,m.f,m.e,v.e,b.l,f.a,p.a,v.a,_.a,b.j],styles:['.divider-container[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{flex:1;color:#131d26}h2[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#131d26;font-size:40px;font-weight:900;margin-top:-1px}input[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#131d26}button[_ngcontent-%COMP%]{font-family:Montserrat!important;border-radius:100px!important;width:100%!important}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#131d26}.create-post-section[_ngcontent-%COMP%]{margin:3% 35% 150px;border-radius:30px;padding:3% 4%;opacity:70%;background-color:azure;box-shadow:0 0 1em rgba(128,128,128,.781)}.redirect[_ngcontent-%COMP%]{color:#5766bd;cursor:pointer;font-weight:700}@media (max-width:600px){.sign-in-section[_ngcontent-%COMP%]{margin:5%;width:300px}}span[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}']}),e})();var C=n("ByE3"),j=n("o7am"),k=n("tyNb"),T=n("MSSf"),E=n("Vgjw"),P=n("oZGo");const M=["like"],A=["dislike"];function x(e,t){if(1&e){const e=r.kc();r.jc(0,"button",14),r.rc("click",(function(){return r.Ic(e),r.vc().deletePost()})),r.jc(1,"mat-icon"),r.Pc(2,"delete"),r.ic(),r.ic()}}function N(e,t){if(1&e){const e=r.kc();r.jc(0,"button",15),r.rc("click",(function(){r.Ic(e);const t=r.vc();return t.getDetails(t.post.id)})),r.jc(1,"mat-icon"),r.Pc(2,"more_horiz"),r.ic(),r.ic()}}let D=(()=>{class e{constructor(e,t,n,r){this.router=e,this.authService=t,this.activatedRoute=n,this.store=r,this.isDetailPage=!!this.activatedRoute.snapshot.params.id,this.userData=this.authService.userData}get isAuthor(){return!!this.userData&&this.userData.id===this.post.createdById}likePost(e){this.store.dispatch(new o.n({postId:e,action:"likes",value:this.like.nativeElement.textContent}))}dislikePost(e){this.store.dispatch(new o.n({postId:e,action:"dislikes",value:this.dislike.nativeElement.textContent}))}getDetails(e){this.router.navigate(["post",e])}deletePost(){this.store.dispatch(new o.k(this.post))}}return e.ɵfac=function(t){return new(t||e)(r.ec(k.b),r.ec(d.a),r.ec(k.a),r.ec(h.h))},e.ɵcmp=r.Yb({type:e,selectors:[["app-card"]],viewQuery:function(e,t){var n;1&e&&(r.Uc(M,!0),r.Uc(A,!0)),2&e&&(r.Gc(n=r.sc())&&(t.like=n.first),r.Gc(n=r.sc())&&(t.dislike=n.first))},inputs:{post:"post"},decls:35,vars:19,consts:[[1,"card","wrapper"],["fxLayout",""],["alt","No Avatar",1,"avatar",3,"src"],["mat-card-image","","alt","Photo Post",1,"post",3,"src"],["fxLayout","","fxLayoutAlign","space-between",1,"action-btn"],[1,"like-dislike-btn"],["mat-button","",2,"margin-left","30px",3,"click"],[1,"likes",2,"margin-left","-50px"],["like",""],["mat-button","",2,"margin-left","50px",3,"click"],[1,"dislikes",2,"margin-left","-55px"],["dislike",""],["mat-button","","style","margin-left: 40px",3,"click",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",2,"margin-left","40px",3,"click"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(r.fc(0,"h1"),r.fc(1,"br"),r.jc(2,"mat-card",0),r.jc(3,"div",1),r.fc(4,"img",2),r.jc(5,"mat-card-header"),r.jc(6,"mat-card-title"),r.Pc(7),r.ic(),r.jc(8,"mat-card-subtitle"),r.Pc(9),r.wc(10,"date"),r.wc(11,"toDate"),r.ic(),r.jc(12,"mat-card-subtitle"),r.Pc(13),r.ic(),r.ic(),r.ic(),r.fc(14,"img",3),r.jc(15,"mat-card-content"),r.jc(16,"p"),r.Pc(17),r.wc(18,"substring"),r.ic(),r.ic(),r.jc(19,"mat-card-actions",4),r.jc(20,"div",5),r.jc(21,"button",6),r.rc("click",(function(){return t.likePost(t.post.id)})),r.jc(22,"mat-icon"),r.Pc(23,"thumb_up_alt"),r.ic(),r.ic(),r.jc(24,"span",7,8),r.Pc(26),r.ic(),r.jc(27,"button",9),r.rc("click",(function(){return t.dislikePost(t.post.id)})),r.jc(28,"mat-icon"),r.Pc(29,"thumb_down_alt"),r.ic(),r.ic(),r.jc(30,"span",10,11),r.Pc(32),r.ic(),r.ic(),r.Oc(33,x,3,0,"button",12),r.Oc(34,N,3,0,"button",13),r.ic(),r.ic()),2&e&&(r.Sb(4),r.Dc("src",t.post.avatar,r.Jc),r.Sb(3),r.Qc(t.post.title),r.Sb(2),r.Rc("Created on: ",r.yc(10,10,r.xc(11,13,t.post.createdOn),"dd.MM.yyyy hh:mm:SS"),""),r.Sb(4),r.Rc("Created by: ",t.post.createdByName,""),r.Sb(1),r.Dc("src",t.post.imageLink,r.Jc),r.Sb(3),r.Qc(r.zc(18,15,t.post.description,200,!t.isDetailPage)),r.Sb(9),r.Rc(" ",t.post.likes," "),r.Sb(6),r.Rc(" ",t.post.dislikes," "),r.Sb(1),r.Cc("ngIf",t.isAuthor&&t.isDetailPage),r.Sb(1),r.Cc("ngIf",!t.isDetailPage))},directives:[T.a,g.c,T.d,T.h,T.g,T.e,T.c,T.b,g.b,f.a,p.a,b.l],pipes:[b.e,E.a,P.a],styles:[".divider-container[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{flex:1;color:#131d26}p[_ngcontent-%COMP%]{font-weight:700;text-align:center}.avatar[_ngcontent-%COMP%]{border-radius:15px}mat-icon[_ngcontent-%COMP%]{color:#1a1c20}h2[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#131d26;font-size:40px;font-weight:900}input[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#131d26}button[_ngcontent-%COMP%]{font-family:Montserrat!important;border-radius:100px!important;width:70px!important;height:70px!important;margin-left:50%;transform:translateX(-50%);color:azure;margin-top:20px;margin-bottom:10px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#131d26}.card[_ngcontent-%COMP%]{margin:auto auto 30px;border-radius:30px;padding:5% 6%;opacity:70%;background-color:azure;box-shadow:0 0 1em rgba(128,128,128,.781)}.post[_ngcontent-%COMP%]{margin-top:20px;border-radius:15px}.redirect[_ngcontent-%COMP%]{color:#5766bd;cursor:pointer;font-weight:700}@media (max-width:600px){.sign-in-section[_ngcontent-%COMP%]{margin:5%;width:300px}}span[_ngcontent-%COMP%]{font-family:Montserrat!important;font-weight:700}.like-dislike-btn[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}"]}),e})();function L(e,t){1&e&&r.fc(0,"app-loader")}function F(e,t){1&e&&r.fc(0,"app-card",3),2&e&&r.Cc("post",t.$implicit)}let R=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new o.e),this.allPosts$=this.store.select(C.a)}}return e.ɵfac=function(t){return new(t||e)(r.ec(h.h))},e.ɵcmp=r.Yb({type:e,selectors:[["app-all-posts"]],decls:5,vars:6,consts:[[4,"ngIf"],["fxLayout","column",1,"wrapper"],[3,"post",4,"ngFor","ngForOf"],[3,"post"]],template:function(e,t){if(1&e&&(r.Oc(0,L,1,0,"app-loader",0),r.wc(1,"async"),r.jc(2,"div",1),r.Oc(3,F,1,1,"app-card",2),r.wc(4,"async"),r.ic()),2&e){var n;const e=!(null!=(n=r.xc(1,2,t.allPosts$))&&n.length);r.Cc("ngIf",e),r.Sb(3),r.Cc("ngForOf",r.xc(4,4,t.allPosts$))}},directives:[b.l,g.c,b.k,j.a,D],pipes:[b.b],styles:[".wrapper[_ngcontent-%COMP%]{margin:0 auto;max-width:600px}@media (max-width:600px){.wrapper[_ngcontent-%COMP%]{margin:0 20px}}"]}),e})();var U=n("YUcS"),K=n("hctd"),B=n("PCNd");function V(e,t){1&e&&(r.jc(0,"mat-error"),r.Pc(1,"Please write a comment"),r.ic())}function q(e,t){1&e&&(r.jc(0,"mat-error"),r.Pc(1,"Comment must be at least 10 symbols long"),r.ic())}function G(e,t){if(1&e&&(r.jc(0,"mat-card"),r.jc(1,"div",10),r.fc(2,"img",11),r.jc(3,"mat-card-header"),r.jc(4,"mat-card-title"),r.Pc(5),r.ic(),r.jc(6,"mat-card-subtitle"),r.Pc(7),r.wc(8,"date"),r.wc(9,"toDate"),r.ic(),r.ic(),r.ic(),r.jc(10,"mat-card-content",12),r.Pc(11),r.ic(),r.ic()),2&e){const e=t.$implicit;r.Sb(2),r.Dc("src",e.avatar,r.Jc),r.Sb(3),r.Qc(e.createdBy),r.Sb(2),r.Rc("Created on: ",r.yc(8,4,r.xc(9,7,e.createdOn),"dd.MM.yyyy hh:mm:SS"),""),r.Sb(4),r.Qc(e.content)}}let z=(()=>{class e{constructor(e,t,n){this.authService=e,this.activatedRoute=t,this.store=n,this.postId=this.activatedRoute.snapshot.params.id}ngOnInit(){this.store.dispatch(new o.q({postId:this.postId})),this.allComments$=this.store.select(C.c)}addComment(e){const t={id:Math.random().toString(),avatar:this.authService.userData.avatar,content:e.value.comment,createdBy:this.authService.userData.name,createdOn:new Date,likes:0,dislikes:0};this.store.dispatch(new o.b({comment:t,postId:this.postId}))}}return e.ɵfac=function(t){return new(t||e)(r.ec(d.a),r.ec(k.a),r.ec(h.h))},e.ɵcmp=r.Yb({type:e,selectors:[["app-comments"]],inputs:{post:"post"},decls:18,vars:7,consts:[[1,"wrapper"],["ngForm","","fxLayout","column","fxLayoutAlign","center",1,"form-comment",3,"ngSubmit"],["commentForm","ngForm"],["ngModel","","matInput","","name","comment","id","comment","rows","5","maxlength","150","required","","minlength","1","placeholder","Write Comment",1,"textarea-comment"],["textareaInput","ngModel"],["fxLayoutAlign","end",1,"hint"],[4,"ngIf"],["mat-raised-button","","color","primary",1,"btn-sign-up",3,"disabled"],["fxLayout","column","fxLayoutGap","10px","fxLayoutAlign","center",1,"comments"],[4,"ngFor","ngForOf"],["fxLayout",""],["alt","No Avatar",1,"avatar-comments",3,"src"],[1,"content-comments"]],template:function(e,t){if(1&e){const e=r.kc();r.jc(0,"div",0),r.jc(1,"h2"),r.Pc(2,"COMMENTS"),r.ic(),r.jc(3,"form",1,2),r.rc("ngSubmit",(function(){r.Ic(e);const n=r.Hc(4);return t.addComment(n)})),r.jc(5,"mat-form-field"),r.fc(6,"textarea",3,4),r.jc(8,"div",5),r.jc(9,"mat-hint"),r.Pc(10),r.ic(),r.ic(),r.Oc(11,V,2,0,"mat-error",6),r.Oc(12,q,2,0,"mat-error",6),r.ic(),r.jc(13,"button",7),r.Pc(14," Send "),r.ic(),r.ic(),r.jc(15,"div",8),r.Oc(16,G,12,9,"mat-card",9),r.wc(17,"async"),r.ic(),r.ic()}if(2&e){const e=r.Hc(4),n=r.Hc(7);r.Sb(10),r.Rc("",null==n?null:null==n.value?null:n.value.length," / 150"),r.Sb(1),r.Cc("ngIf",n.hasError("required")),r.Sb(1),r.Cc("ngIf",n.hasError("minlength")),r.Sb(1),r.Cc("disabled",e.invalid),r.Sb(3),r.Cc("ngForOf",r.xc(17,5,t.allComments$))}},directives:[m.p,m.k,m.l,g.c,g.b,v.b,m.a,l.a,m.j,m.m,m.e,m.o,m.f,v.e,b.l,f.a,g.d,b.k,v.a,T.a,T.d,T.h,T.g,T.c],pipes:[b.b,b.e,E.a],styles:[".divider-container[_ngcontent-%COMP%]{width:100%}.line[_ngcontent-%COMP%]{flex:1;color:#131d26}p[_ngcontent-%COMP%]{font-weight:700;text-align:center}.avatar[_ngcontent-%COMP%]{border-radius:15px}h2[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#acb7bb;text-align:center;font-size:40px;font-weight:900}input[_ngcontent-%COMP%]{font-family:Montserrat!important;color:#131d26}button[_ngcontent-%COMP%]{font-family:Montserrat!important;border-radius:100px!important;width:100px!important;height:auto!important;margin-left:50%;transform:translateX(-50%);color:azure;margin-top:20px;margin-bottom:10px}.text[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:azure}.form-comment[_ngcontent-%COMP%]{margin:auto auto 30px;border-radius:30px;padding:5% 6%;opacity:70%;background-color:azure;box-shadow:0 0 1em rgba(128,128,128,.781)}.post[_ngcontent-%COMP%]{margin-top:20px;border-radius:15px}.redirect[_ngcontent-%COMP%]{color:#5766bd;cursor:pointer;font-weight:700}@media (max-width:600px){.sign-in-section[_ngcontent-%COMP%]{margin:5%;width:300px}}span[_ngcontent-%COMP%]{font-family:Montserrat!important;font-weight:700}.like-dislike-btn[_ngcontent-%COMP%]{margin-left:40px;margin-bottom:15px}"]}),e})();function H(e,t){1&e&&r.fc(0,"app-loader")}function W(e,t){if(1&e&&(r.jc(0,"div",2),r.fc(1,"app-card",3),r.wc(2,"async"),r.fc(3,"app-comments",3),r.wc(4,"async"),r.ic()),2&e){const e=r.vc();r.Sb(1),r.Cc("post",r.xc(2,2,e.post$)),r.Sb(2),r.Cc("post",r.xc(4,4,e.post$))}}let $=(()=>{class e{constructor(e,t){this.activateRoute=e,this.store=t}ngOnInit(){this.store.dispatch(new o.s({postId:this.activateRoute.snapshot.params.id})),this.post$=this.store.select(C.f)}}return e.ɵfac=function(t){return new(t||e)(r.ec(k.a),r.ec(h.h))},e.ɵcmp=r.Yb({type:e,selectors:[["app-details"]],decls:4,vars:6,consts:[[4,"ngIf"],["class","wrapper","fxLayout","column","fxLayoutGap","15px",4,"ngIf"],["fxLayout","column","fxLayoutGap","15px",1,"wrapper"],[3,"post"]],template:function(e,t){1&e&&(r.Oc(0,H,1,0,"app-loader",0),r.wc(1,"async"),r.Oc(2,W,5,6,"div",1),r.wc(3,"async")),2&e&&(r.Cc("ngIf",!r.xc(1,2,t.post$)),r.Sb(2),r.Cc("ngIf",!!r.xc(3,4,t.post$)))},directives:[b.l,j.a,g.c,g.d,D,z],pipes:[b.b],styles:[".wrapper[_ngcontent-%COMP%]{margin:0 auto;max-width:600px}@media (max-width:600px){.wrapper[_ngcontent-%COMP%]{margin:0 20px}}"]}),e})();var J=n("LjFu");const X=k.d.forChild([{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:R,canActivate:[J.a]},{path:"create",component:I,canActivate:[J.a]},{path:":id",component:$,canActivate:[J.a]}]);n.d(t,"PostModule",(function(){return Y}));let Y=(()=>{class e{}return e.ɵmod=r.cc({type:e}),e.ɵinj=r.bc({factory:function(t){return new(t||e)},imports:[[U.a,b.c,m.d,K.a,B.a,k.d,X]]}),e})()},O1kn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,a=n("mrSG"),s=n("zVF4"),c=n("q/0M"),u=n("S+S0"),l=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),f=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),p=new s.ErrorFactory("remoteconfig","Remote Config",f),d=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o,s,c,u,l,f,d,h,g,m,v,b;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=a.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:t[0],app_instance_id_token:t[1],app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),c=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,Promise.race([s,c])];case 3:return a.sent(),[4,s];case 4:return u=a.sent(),[3,6];case 5:throw l=a.sent(),f="fetch-client-network","AbortError"===l.name&&(f="fetch-timeout"),p.create(f,{originalErrorMessage:l.message});case 6:if(d=u.status,h=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,a.label=7;case 7:return a.trys.push([7,9,,10]),[4,u.json()];case 8:return v=a.sent(),[3,10];case 9:throw b=a.sent(),p.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=v.entries,m=v.state,a.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?d=500:"NO_CHANGE"===m?d=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(g={}),304!==d&&200!==d)throw p.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:h,config:g}]}var _}))}))},e}(),h=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),g="",m=["1","true","t","yes","y","on"],v=function(){function e(e,t){void 0===t&&(t=g),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&m.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),b=6e4,_=432e5,w=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:b,minimumFetchIntervalMillis:_},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=c.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=c.LogLevel.SILENT;break;default:this._logger.logLevel=c.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),e.prototype.activate=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),n=e[1],(t=e[0])&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:e=new h,setTimeout((function(){return a.__awaiter(r,void 0,void 0,(function(){return a.__generator(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=(o=t)instanceof s.FirebaseError&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o}))}))},e.prototype.fetchAndActivate=function(){return a.__awaiter(this,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e,t,n=this;return(e=this._storageCache.getActiveConfig(),t=this.defaultConfig,void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(a.__assign(a.__assign({},e),t))).reduce((function(e,t){return e[t]=n.getValue(t),e}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new v("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new v("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new v("static"))},e}();function y(e,t){var n=e.target.error||void 0;return p.create(t,{originalErrorMessage:n&&n.message})}var S="app_namespace_store",O="firebase_remote_config",I=1,C=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(O,I);n.onerror=function(e){t(y(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(S,{keyPath:"compositeKey"})}}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([S],"readonly").objectStore(S),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(y(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(c){i(p.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.set=function(e,t){return a.__awaiter(this,void 0,void 0,(function(){var n,r=this;return a.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([S],"readwrite").objectStore(S),s=r.createCompositeKey(e);try{var c=a.put({compositeKey:s,value:t});c.onerror=function(e){o(y(e,"storage-set"))},c.onsuccess=function(){i()}}catch(u){o(p.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.delete=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n=this;return a.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([S],"readwrite").objectStore(S),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(y(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(c){i(p.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),j=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return a.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}(),k=1e3,T=2,E=144e5,P=.5;function M(e){var t=k*Math.pow(T,e),n=Math.round(P*t*(Math.random()-.5)*2);return Math.min(E,t+n)}function A(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(p.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var x=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t;return a.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return a.__awaiter(this,void 0,void 0,(function(){var t,i,o;return a.__generator(this,(function(a){switch(a.label){case 0:return[4,A(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof s.FirebaseError))return!1;var t=Number(e.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+M(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),N="@firebase/remote-config",D="0.1.11";function L(e){e.INTERNAL.registerComponent(new u.Component("remoteConfig",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw p.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw p.create("registration-project-id");if(!s)throw p.create("registration-api-key");if(!u)throw p.create("registration-app-id");var f=new C(u,r.name,n=n||"firebase"),h=new j(f),g=new c.Logger(N);g.logLevel=c.LogLevel.ERROR;var m=new d(i,e.SDK_VERSION,n,a,s,u),v=new x(m,f),b=new l(v,f,h,g),_=new w(r,b,h,f,g);return _.ensureInitialized(),_}),"PUBLIC").setMultipleInstances(!0)),e.registerVersion(N,D)}L(i),t.registerRemoteConfig=L},bQlE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,a,s,c,u,l=n("mrSG"),f=n("zVF4"),p=n("q/0M"),d=n("S+S0"),h="@firebase/performance",g="0.2.30",m=g,v="FB-PERF-TRACE-START",b="FB-PERF-TRACE-STOP",_="FB-PERF-TRACE-MEASURE",w="@firebase/performance/config",y="@firebase/performance/configexpire",S=((o={})["trace started"]="Trace {$traceName} was started before.",o["trace stopped"]="Trace {$traceName} is not running.",o["no window"]="Window is not available.",o["no app id"]="App id is not available.",o["no project id"]="Project id is not available.",o["no api key"]="Api key is not available.",o["invalid cc log"]="Attempted to queue invalid cc event",o["FB not default"]="Performance can only start when Firebase app instance is the default one.",o["RC response not ok"]="RC response is not ok",o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",o["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",o),O=new f.ErrorFactory("performance","Performance",S),I=function(){function e(e){if(this.window=e,!e)throw O.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])})).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===a&&(a=new e(s)),a},e}(),C=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw O.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw O.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw O.create("no api key");return e},e.getInstance=function(){return void 0===c&&(c=new e),c},e}();function j(){return u}var k=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN",e}({}),T=["firebase_","google_","ga_"],E=new RegExp("^[a-zA-Z]\\w*$");function P(){var e=I.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function M(){switch(I.getInstance().document.visibilityState){case"visible":return k.VISIBLE;case"hidden":return k.HIDDEN;default:return k.UNKNOWN}}function A(){var e=I.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var x=new p.Logger("Performance");x.logLevel=p.LogLevel.INFO;var N="0.0.1",D={loggingEnabled:!0},L="FIREBASE_INSTALLATIONS_AUTH",F="Could not fetch config, will use default configs";function R(e){if(!e)return e;var t=C.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):D.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=U(t.tracesSamplingRate),t.logNetworkAfterSampling=U(t.networkRequestsSamplingRate),e}function U(e){return Math.random()<=e}var K,B=1;function V(){return B=2,K=K||function(){var e=I.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return(e=C.getInstance().installationsService.getId()).then((function(e){u=e})),e;var e})).then((function(e){return function(e){var t=function(){var e=I.getInstance().localStorage;if(e){var t=e.getItem(y);if(t&&Number(t)>Date.now()){var n=e.getItem(w);if(n)try{return JSON.parse(n)}catch(o){return}}}}();return t?(R(t),Promise.resolve()):function(e){return(t=C.getInstance().installationsService.getToken(),t.then((function(e){})),t).then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+C.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+C.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:L+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:C.getInstance().getAppId(),app_version:m,sdk_version:N})});return fetch(r).then((function(e){if(e.ok)return e.json();throw O.create("RC response not ok")}))})).catch((function(){x.info(F)}));var t}(e).then((function(e){return R(e)})).then((function(e){return function(e){var t=I.getInstance().localStorage;e&&t&&(t.setItem(w,JSON.stringify(e)),t.setItem(y,String(Date.now()+60*C.getInstance().configTimeToLive*60*1e3)))}(e)}),(function(){}))}(e)})).then((function(){return q()}),(function(){return q()}))}function q(){B=3}var G,z=1e4,H=5500,W=3,$=W,J=[],X=!1;function Y(e){if(!e.eventTime||!e.message)throw O.create("invalid cc log");J=l.__spreadArrays(J,[e])}function Q(e,t){G||(G=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);Y({message:r,eventTime:Date.now()})}}(te)),G(e,t)}function Z(e){var t=C.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&I.getInstance().requiredApisAvailable()&&(e.isAuto&&M()!==k.VISIBLE||t.loggingEnabled&&t.logTraceAfterSampling&&(3===B?ee(e):V().then((function(){return ee(e)}),(function(){return ee(e)}))))}function ee(e){j()&&setTimeout((function(){return Q(e,1)}),0)}function te(e,t){return 0===t?(r={url:(n=e).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:ne(),network_request_metric:r},JSON.stringify(i)):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:ne(),trace_metric:t};return JSON.stringify(r)}(e);var n,r,i}function ne(){return{google_app_id:C.getInstance().getAppId(),app_instance_id:j(),web_app_info:{sdk_version:m,page_url:I.getInstance().getUrl(),service_worker_status:P(),visibility_state:M(),effective_connection_type:A()},application_process_state:0}}var re=["_fp","_fcp","_fid"],ie=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=I.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=v+"-"+this.randomId+"-"+this.name,this.traceStopMark=b+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||_+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw O.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw O.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Z(this)},e.prototype.record=function(e,t,n){if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=l.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Z(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]&&this.putMetric(e,0),this.counters[e]+=t},e.prototype.putMetric=function(e,t){if(!function(e,t){return!(0===e.length||e.length>100)&&(t&&t.startsWith("_wt_")&&re.indexOf(e)>-1||!e.startsWith("_"))}(e,this.name))throw O.create("invalide custom metric name",{customMetricName:e});this.counters[e]=t},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=function(e){return!(0===e.length||e.length>40||T.some((function(t){return e.startsWith(t)}))||!e.match(E))}(e),r=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&r)this.customAttributes[e]=t;else{if(!n)throw O.create("invalid attribute name",{attributeName:e});if(!r)throw O.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return l.__assign({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=I.getInstance().getUrl();if(i){var o=new e("_wt_"+i,!0),a=Math.floor(1e3*I.getInstance().getTimeOrigin());if(o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var c=n.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}Z(o)}},e.createUserTimingTrace=function(t){Z(new e(t,!1,t))},e}();function oe(e){var t,n,r=e;if(r&&void 0!==r.responseStart){var i=I.getInstance().getTimeOrigin(),o=Math.floor(1e3*(r.startTime+i)),a=r.responseStart?Math.floor(1e3*(r.responseStart-r.startTime)):void 0,s=Math.floor(1e3*(r.responseEnd-r.startTime));t={url:r.name&&r.name.split("?")[0],responsePayloadBytes:r.transferSize,startTimeUs:o,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:s},(n=C.getInstance()).instrumentationEnabled&&t.url!==n.logEndPointUrl.split("?")[0]&&n.loggingEnabled&&n.logNetworkAfterSampling&&setTimeout((function(){return Q(t,0)}),0)}}var ae=5e3;function se(){j()&&(setTimeout((function(){return function(){var e=I.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){ie.createOobTrace(t,n),r=void 0}),ae);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),ie.createOobTrace(t,n,e))}))}else ie.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=I.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)oe(n[t]);e.setupObserver("resource",oe)}()}),0),setTimeout((function(){return function(){for(var e=I.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)ce(n[t]);e.setupObserver("measure",ce)}()}),0))}function ce(e){var t=e.name;t.substring(0,_.length)!==_&&ie.createUserTimingTrace(t)}var ue=function(){function e(e){this.app=e,I.getInstance().requiredApisAvailable()?(X||(function e(t){setTimeout((function(){if(0!==$){if(!J.length)return e(z);var t=l.__spreadArrays(J);J=[];var n=t.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:C.getInstance().logSource,log_event:n};fetch(C.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(r)}).then((function(e){return e.ok||x.info("Call to Firebase backend failed."),e.json()})).then((function(t){var n=Number(t.next_request_wait_millis),r=isNaN(n)?z:Math.max(z,n);$=W,e(r)})).catch((function(){J=l.__spreadArrays(t,J),x.info("Tries left: "+--$+"."),e(z)}))}}),t)}(H),X=!0),V().then(se,se)):x.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return e.prototype.trace=function(e){return new ie(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return C.getInstance().instrumentationEnabled},set:function(e){C.getInstance().instrumentationEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return C.getInstance().dataCollectionEnabled},set:function(e){C.getInstance().dataCollectionEnabled=e},enumerable:!0,configurable:!0}),e}(),le="[DEFAULT]";function fe(e){e.INTERNAL.registerComponent(new d.Component("performance",(function(e){return function(e,t){if(e.name!==le)throw O.create("FB not default");if("undefined"==typeof window)throw O.create("no window");return function(e){s=e}(window),C.getInstance().firebaseAppInstance=e,C.getInstance().installationsService=t,new ue(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC")),e.registerVersion(h,g)}fe(i),t.registerPerformance=fe},fSjL:function(e,t,n){"use strict";n.r(t),n.d(t,"registerInstallations",(function(){return re}));var r,i=n("wj3C"),o=n.n(i),a=n("S+S0"),s=n("mrSG"),c=n("zVF4"),u=n("nbvr"),l="@firebase/installations",f="0.4.0",p=1e4,d="w:"+f,h="FIS_v2",g="https://firebaseinstallations.googleapis.com/v1",m=36e5,v=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),b=new c.ErrorFactory("installations","Installations",v);function _(e){return e instanceof c.FirebaseError&&e.code.includes("request-failed")}function w(e){return g+"/projects/"+e.projectId+"/installations"}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function S(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),[2,b.create("request-failed",{requestName:e,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function O(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function I(e,t){var n=t.refreshToken,r=O(e);return r.append("Authorization",function(e){return h+" "+e}(n)),r}function C(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function j(e,t){var n=t.fid;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return t=w(e),r=O(e),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:h,appId:e.appId,sdkVersion:d})},[4,C((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:y(a.authToken)}];case 3:return[4,S("Create Installation",o)];case 4:throw s.sent()}}))}))}function k(e){return new Promise((function(t){setTimeout(t,e)}))}var T=/^[cdef][\w-]{21}$/,E="";function P(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(s.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return T.test(t)?t:E}catch(r){return E}}function M(e){return e.appName+"!"+e.appId}var A=new Map;function x(e,t){var n=M(e);N(n,t),function(e,t){var n=L();n&&n.postMessage({key:e,fid:t}),F()}(n,t)}function N(e,t){var n,r,i=A.get(e);if(i)try{for(var o=Object(s.__values)(i),a=o.next();!a.done;a=o.next())(0,a.value)(t)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var D=null;function L(){return!D&&"BroadcastChannel"in self&&((D=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){N(e.data.key,e.data.fid)}),D}function F(){0===A.size&&D&&(D.close(),D=null)}var R="firebase-installations-database",U=1,K="firebase-installations-store",B=null;function V(){return B||(B=Object(u.openDb)(R,U,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(K)}}))),B}function q(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=M(e),[4,V()];case 1:return r=s.sent(),i=r.transaction(K,"readwrite"),[4,(o=i.objectStore(K)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||x(e,t.fid),[2,t]}}))}))}function G(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return t=M(e),[4,V()];case 1:return n=i.sent(),[4,(r=n.transaction(K,"readwrite")).objectStore(K).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function z(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return n=M(e),[4,V()];case 1:return r=s.sent(),i=r.transaction(K,"readwrite"),[4,(o=i.objectStore(K)).get(n)];case 2:return a=s.sent(),void 0!==(c=t(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(c,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!c||a&&a.fid===c.fid||x(e,c.fid),[2,c]}}))}))}function H(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,z(e,(function(n){var r=function(e){return J(e||{fid:P(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(b.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,j(e,t)];case 1:return n=i.sent(),[2,q(e,n)];case 2:return _(r=i.sent())&&409===r.serverCode?[4,G(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,q(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==E?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function W(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,$(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,k(100)];case 3:return o.sent(),[4,$(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,H(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function $(e){return z(e,(function(e){if(!e)throw b.create("installation-not-found");return J(e)}))}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+p<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return e=function(e,t){var n=t.fid;return w(e)+"/"+n+"/authTokens:generate"}(n,t),i=I(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:d}})},[4,C((function(){return fetch(e,a)}))];case 1:return(c=s.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,y(s.sent())];case 3:return[4,S("Generate Auth Token",c)];case 4:throw s.sent()}}))}))}function Y(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,z(e.appConfig,(function(r){if(!Z(r))throw b.create("not-registered");var i,o=r.authToken;if(!t&&2===(i=o).requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+m}(i))return r;if(1===o.requestStatus)return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,Q(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,k(100)];case 3:return i.sent(),[4,Q(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Y(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw b.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(s.__assign)(Object(s.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,X(e,t)];case 1:return n=o.sent(),i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:n}),[4,q(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!_(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,G(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.__assign)(Object(s.__assign)({},t),{authToken:{requestStatus:0}}),[4,q(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Q(e){return z(e,(function(e){if(!Z(e))throw b.create("not-registered");var t;return 1===(t=e.authToken).requestStatus&&t.requestTime+p<Date.now()?Object(s.__assign)(Object(s.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Z(e){return void 0!==e&&2===e.registrationStatus}function ee(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,H(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function te(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return w(e)+"/"+n}(e,t),r=I(e,t),i={method:"DELETE",headers:r},[4,C((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,S("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function ne(e){return b.create("missing-app-config-values",{valueName:e})}function re(e){e.INTERNAL.registerComponent(new a.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw ne("App Configuration");if(!e.name)throw ne("App Name");try{for(var r=Object(s.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw ne(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,H(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Y(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,ee(e.appConfig)];case 1:return n.sent(),[4,Y(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,z(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw b.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw b.create("app-offline");case 3:return[4,te(t,n)];case 4:return r.sent(),[4,G(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return function(e,t){var n=e.appConfig;return function(e,t){L();var n=M(e),r=A.get(n);r||(r=new Set,A.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=M(e),r=A.get(n);r&&(r.delete(t),0===r.size&&A.delete(n),F())}(n,t)}}(n,e)}}}),"PUBLIC")),e.registerVersion(l,f)}re(o.a)},gHGA:function(e,t,n){"use strict";n.r(t);var r,i=n("wj3C"),o=n.n(i),a=(n("fSjL"),n("S+S0")),s=n("mrSG"),c=n("zVF4"),u=n("nbvr"),l=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["permission-default"]="The notification permission was not granted and dismissed instead.",r["permission-blocked"]="The notification permission was not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",r["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",r["invalid-vapid-key"]="The public VAPID key must be a string.",r["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r),f=new c.ErrorFactory("messaging","Messaging",l);function p(e){return f.create("missing-app-config-values",{valueName:e})}function d(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(s.__spread)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var h="fcm_token_details_db",g=5,m="fcm_token_object_Store";function v(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(h))return[2,null];r.label=2;case 2:return t=null,[4,Object(u.openDb)(h,g,(function(r){return Object(s.__awaiter)(n,void 0,void 0,(function(){var n,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(m)?[4,(n=r.transaction.objectStore(m)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];t={token:o.fcmToken,createTime:(a=o.createTime,null!=a?a:Date.now()),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:d(o.vapidKey)}}}else 3===r.oldVersion?t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:d(o.auth),p256dh:d(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:d(o.vapidKey)}}:4===r.oldVersion&&(t={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:d(o.auth),p256dh:d(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:d(o.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,Object(u.deleteDb)(h)];case 4:return r.sent(),[4,Object(u.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(u.deleteDb)("undefined")];case 6:return r.sent(),[2,b(t)?t:null]}}))}))}function b(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var _="firebase-messaging-database",w=1,y="firebase-messaging-store",S=null;function O(){return S||(S=Object(u.openDb)(_,w,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(y)}}))),S}function I(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return t=k(e),[4,O()];case 1:return[4,i.sent().transaction(y).objectStore(y).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,v(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,C(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function C(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return n=k(e),[4,O()];case 1:return r=o.sent(),[4,(i=r.transaction(y,"readwrite")).objectStore(y).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function j(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return t=k(e),[4,O()];case 1:return n=i.sent(),[4,(r=n.transaction(y,"readwrite")).objectStore(y).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function k(e){return e.appConfig.appId}var T="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",E="https://fcmregistrations.googleapis.com/v1",P="google.c.a.c_id";function M(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,D(e)];case 1:n=s.sent(),r=L(t),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(N(e.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),f.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw f.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw f.create("token-subscribe-no-token");return[2,o.token]}}))}))}function A(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,D(e)];case 1:n=s.sent(),r=L(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(N(e.appConfig)+"/"+t.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),f.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw f.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw f.create("token-update-no-token");return[2,o.token]}}))}))}function x(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return[4,D(e)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(N(e.appConfig)+"/"+t,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw f.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),f.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))}function N(e){return E+"/projects/"+e.projectId+"/registrations"}function D(e){var t=e.appConfig,n=e.installations;return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function L(e){var t=e.vapidKey,n={web:{endpoint:e.endpoint,auth:e.auth,p256dh:e.p256dh}};return t!==T&&(n.web.applicationPubKey=t),n}var F=6048e5;function R(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw f.create("permission-blocked");return[4,V(t,n)];case 1:return r=s.sent(),[4,I(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:d(r.getKey("auth")),p256dh:d(r.getKey("p256dh"))},i?[3,3]:[2,B(e,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,x(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,B(e,o)];case 8:return Date.now()>=i.createTime+F?[2,K({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var c,u,l}))}))}function U(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,I(e)];case 1:return(n=i.sent())?[4,x(e,n.token)]:[3,4];case 2:return i.sent(),[4,j(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function K(e,t,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,A(t,e)];case 1:return r=a.sent(),i=Object(s.__assign)({token:r,createTime:Date.now()},e),[4,C(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,U(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function B(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,M(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,C(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function V(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})]}}))}))}var q=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function G(e){return"object"==typeof e&&!!e&&P in e}var z=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),e.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return this.vapidKey||(this.vapidKey=T),[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:t.sent(),t.label=3;case 3:if("granted"!==Notification.permission)throw f.create("permission-blocked");return[2,R(this.firebaseDependencies,e,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),[2,U(this.firebaseDependencies,e)]}}))}))},e.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw f.create("denied"===e?"permission-blocked":"permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw f.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw f.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw f.create("invalid-sw-registration");if(this.swRegistration)throw f.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback="function"==typeof e?e:e.next,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw f.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.getServiceWorkerRegistration=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return e.swRegistration=n.sent(),[3,4];case 3:throw t=n.sent(),f.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 4:return[2,this.swRegistration]}}))}))},e.prototype.messageEventListener=function(e){var t;return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(a){switch(a.label){case 0:return(null===(t=e.data)||void 0===t?void 0:t.firebaseMessaging)?(r=(n=e.data.firebaseMessaging).type,i=n.payload,this.onMessageCallback&&r===q.PUSH_RECEIVED&&this.onMessageCallback(i),G(o=i.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},e.prototype.logEvent=function(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case q.NOTIFICATION_CLICKED:return"notification_open";case q.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[P],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}(),H=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw f.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.getToken=function(){var e,t,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,I(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=null!=(n=null===(t=null===(e=r)||void 0===e?void 0:e.subscriptionOptions)||void 0===t?void 0:t.vapidKey)?n:T,i.label=2;case 2:return[2,R(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return U(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw f.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw f.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw f.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw f.create("only-available-in-window")},e.prototype.onMessage=function(){throw f.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw f.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e))?[4,J()]:[2];case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,$(n,t)]:(r=function(e){var t;if(e&&"object"==typeof e.notification){var n=Object(s.__assign)({},e.notification);return n.data=Object(s.__assign)(Object(s.__assign)({},e.notification.data),((t={}).FCM_MSG=e,t)),n}}(t))?[4,Y(r)]:[3,3];case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.onSubChange=function(e){var t,n,r;return Object(s.__awaiter)(this,void 0,void 0,(function(){var i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return e.newSubscription?[3,2]:[4,U(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,I(this.firebaseDependencies)];case 3:return i=o.sent(),[4,U(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,R(this.firebaseDependencies,self.registration,(r=null===(n=null===(t=i)||void 0===t?void 0:t.subscriptionOptions)||void 0===n?void 0:n.vapidKey,null!=r?r:T))];case 5:return o.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r;return(null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action)||(G(e.data)?self.location.origin:null)}(r))?[4,W(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,new Promise((function(e){setTimeout(e,3e3)}))];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(a=X(q.NOTIFICATION_CLICKED,r),[2,o.postMessage(a)]):[2]}}))}))},e}();function W(e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,c;return Object(s.__generator)(this,(function(u){switch(u.label){case 0:return t=new URL(e,self.location.href).href,[4,J()];case 1:n=u.sent();try{for(r=Object(s.__values)(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).href===t)return[2,o]}catch(l){a={error:l}}finally{try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(a)throw a.error}}return[2,null]}}))}))}function $(e,t){var n,r,i=X(q.PUSH_RECEIVED,t);try{for(var o=Object(s.__values)(e),a=o.next();!a.done;a=o.next())a.value.postMessage(i)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function J(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function X(e,t){return{firebaseMessaging:{type:e,payload:t}}}function Y(e){var t,n=null!=(t=e.title)?t:"",r=e.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,e)}var Q={isSupported:Z};function Z(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.a.INTERNAL.registerComponent(new a.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw p("App Configuration Object");if(!e.name)throw p("App Name");var r=e.options;try{for(var i=Object(s.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw p(a)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Z())throw f.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new H(n):new z(n)}),"PUBLIC").setServiceProps(Q))},iqUP:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("t6oF"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn"),i.registerVersion("firebase","7.7.0","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.registerVersion("firebase","7.7.0"),e.exports=i},nbvr:function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function h(e){this._db=e}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(p,"_tx",["objectStoreNames","mode"]),s(p,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new h(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);